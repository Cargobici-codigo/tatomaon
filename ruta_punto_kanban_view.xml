<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Kanban Ruta Punto optimizado -->
    <record id="view_ruta_punto_kanban" model="ir.ui.view">
        <field name="name">ruta.punto.kanban</field>
        <field name="model">ruta.punto</field>
        <field name="arch" type="xml">
            <kanban default_group_by="estado">
                <field name="estado"/>
                <field name="direccion"/>
                <field name="peso_kg"/>
                <field name="hora_apertura"/>
                <field name="hora_cierre"/>
                <field name="prioridad_manual"/>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click o_kanban_card oe_kanban_#{record.estado.raw_value}">
                            <div>
                                <strong><field name="direccion"/></strong>
                            </div>
                            <div>
                                Peso: <field name="peso_kg"/> kg
                            </div>
                            <div>
                                Horario: <field name="hora_apertura"/> - <field name="hora_cierre"/>
                            </div>
                            <div>
                                <t t-if="record.prioridad_manual.raw_value">
                                    <span class="badge bg-danger">PRIORIDAD</span>
                                </t>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <record id="action_ruta_punto_kanban_view" model="ir.actions.act_window">
        <field name="name">Visualizar puntos por estado</field>
        <field name="res_model">ruta.punto</field>
        <field name="view_mode">kanban,form</field>
        <field name="domain">[("ruta_id", "=", False)]</field>
    </record>

</odoo>
